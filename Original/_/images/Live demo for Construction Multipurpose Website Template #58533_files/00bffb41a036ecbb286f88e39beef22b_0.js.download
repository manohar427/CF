function oSendpulsePush(){var e="http://www.templatemonster.com";var f="http://www.templatemonster.com";var a="https://templatemonstercom.sendpulse.com";var k=true;var d=true;var B="00bffb41a036ecbb286f88e39beef22b";var c="";var z="";var r="";var g="https://sendpulse.com:4434";var v="https://sendpulse.com:4435";var h="web.com.sendpulse.push";var o={};var A="";var u=null;var l=null;var p=null;var j={};var q=false;var s="1";var b="sendpulse.com";var y={ru:"Предоставлено SendPulse",en:"Powered by SendPulse",ua:"Надано SendPulse",de:"Unterstützt von SendPulse"};var m={ru:"запрашивает разрешение на:",en:"wants to:",ua:"запитує дозвіл на:",de:"bittet eine Erlaubnis"};var i={ru:"Показывать оповещения",en:"Show notifications",ua:"Показувати сповіщення",de:"Benachrichtigunggen anzuzeigen"};var t={ru:"Разрешить",en:"Allow",ua:"Дозволити",de:"Erlauben"};var x={ru:"Блокировать",en:"Block",ua:"Блокувати",de:"Blockieren"};var n=false;var w="0";this.start=function(){if(!oSpP.detectSite()){oSpP.log("Application allowed only for "+e);return false}if(oSpP.detectOs()=="iOS"){oSpP.log("Application can not work on iOS");return false}var C=oSpP.detectOs();if(!d){if((C=="iOS")||(C=="Android")){oSpP.log("Application disabled for your device");return false}}o=oSpP.detectBrowser();A=o.name.toLowerCase();if((A=="chrome")&&(parseFloat(o.version)<42)){oSpP.log("Application can not work with Crome browser version less then 42");return false}if((A=="firefox")&&(parseFloat(o.version)<44)){oSpP.log("Application can not work with Firefox browser version less then 44");return false}if((A=="firefox")&&(C=="Android")){oSpP.log("Application can not work with Firefox on Android");return false}if((A=="chrome")||(A=="firefox")){window.addEventListener("message",function(F){if(F.origin.toLowerCase()==a.toLowerCase()){if(F.data=="initend"){clearInterval(l)}else{if(F.data=="closeme"){p.close()}else{oSpP.storeSubscription(F.data)}}}},false);if(k){oSpP.getDbValue("SPIDs","SubscriptionId",function(F){if(F.target.result===undefined){oSpP.getDbValue("SPIDs","PromptClosed",function(H){if(H.target.result===undefined){oSpP.startDelayedSubscription(oSpP.showPrompt)}else{var G=parseInt(H.target.result.value);G--;if(G==0){oSpP.deleteDbValue("SPIDs","PromptClosed");oSpP.startDelayedSubscription(oSpP.showPrompt)}else{oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:G})}}})}})}else{var E=document.querySelectorAll(".sp_notify_prompt");for(var D=0;D<E.length;D++){E[D].addEventListener("click",function(){oSpP.showPopUp()})}}}else{if(A=="safari"){if(k){oSpP.startDelayedSubscription(oSpP.startSubscription)}else{var E=document.querySelectorAll(".sp_notify_prompt");for(var D=0;D<E.length;D++){E[D].addEventListener("click",function(){oSpP.startSubscription()})}}}}};this.startSubscription=function(){switch(A){case"safari":if(oSpP.isSafariNotificationSupported()){var C=window.safari.pushNotification.permission(h);oSpP.checkSafariPermission(C)}break}};this.checkCookie=function(D){for(var F=D+"=",E=document.cookie.split(";"),G=0;G<E.length;G++){for(var C=E[G];" "==C.charAt(0);){C=C.substring(1)}if(0==C.indexOf(F)){return C.substring(F.length,C.length)}}return""};this.checkSafariPermission=function(C){oSpP.log("[DD] Permissions: "+C.permission);if(C.permission==="default"){n=true;oSpP.getDbValue("SPIDs","PromptShowed",function(D){if(D.target.result===undefined){oSpP.sendPromptStat("prompt_showed");oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})}else{oSpP.sendPromptStat("prompt_showed_again")}});window.safari.pushNotification.requestPermission(g,h,{appkey:B},oSpP.checkSafariPermission)}else{if(C.permission==="denied"){if(n){oSpP.sendPromptStat("prompt_denied")}}else{if(C.permission==="granted"){oSpP.uns();if(n){oSpP.sendPromptStat("prompt_granted")}oSpP.subscribe()}}}};this.subscribe=function(){switch(A){case"safari":var D=window.safari.pushNotification.permission(h);if(D.permission==="granted"){var C=D.deviceToken;oSpP.checkLocalSubsctoption(C)}break}};this.checkLocalSubsctoption=function(C){oSpP.log("[DD] subscribe :: subscriptionId: "+C);oSpP.getDbValue("SPIDs","SubscriptionId",function(D){if(D.target.result===undefined){oSpP.sendSubscribeDataToServer(C,"subscribe");oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:C})}else{if(D.target.result.value!==C){oSpP.sendSubscribeDataToServer(D.target.result.value,"unsubscribe");oSpP.sendSubscribeDataToServer(C,"subscribe");oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:C})}}})};this.sendSubscribeDataToServer=function(D,H,E){var G=new XMLHttpRequest();G.open("POST",g,true);G.setRequestHeader("Content-Type","application/json");if(E===undefined){E={};E.uname=oSpP.checkCookie("lgn");E.os=oSpP.detectOs()}E.variables=oSpP.getUserVariables();var C=window.location.href;var F={action:"subscription",subscriptionId:D,subscription_action:H,appkey:B,browser:o,lang:oSpP.getBrowserlanguage(),url:C,custom_data:E};G.send(JSON.stringify(F))};this.isSafariNotificationSupported=function(){return"safari" in window&&"pushNotification" in window.safari};this.storeSubscription=function(C){oSpP.log("StoreSubscription: "+C);oSpP.putValueToDb("SPIDs",{type:"SubscriptionId",value:C})};this.clearDomain=function(C){return C.replace("://www.","://").replace("://www2.","://")};this.detectSite=function(){var C=(!(oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(e.toLowerCase()))===-1));if(!C){C=(!(oSpP.clearDomain(window.location.href.toLowerCase()).indexOf(oSpP.clearDomain(f.toLowerCase()))===-1))}return C};this.getBrowserlanguage=function(){return navigator.language.substring(0,2)};this.getUserVariables=function(){var D={};var C=document.querySelectorAll("input.sp_push_custom_data");for(var E=0;E<C.length;E++){switch(C[E].type){case"text":case"hidden":D[C[E].name]=C[E].value;break;case"checkbox":D[C[E].name]=(C[E].checked)?1:0;break;case"radio":if(C[E].checked){D[C[E].name]=C[E].value}break}}return D};this.showPopUp=function(){if(k){oSpP.sendPromptStat("prompt_granted")}else{}var J=580;var F=580;var H=window.screenLeft!==undefined?window.screenLeft:screen.left;var C=window.screenTop!==undefined?window.screenTop:screen.top;var D=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var K=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var E=((D/2)-(J/2))+H;var I=((K/3)-(K/3))+C;var G=oSpP.getBrowserlanguage();if(G==""){G="en"}p=window.open(a+"/"+G+"/"+B,"_blank","scrollbars=yes, width="+J+", height="+F+", top="+I+", left="+E);if(window.focus){p.focus()}l=setInterval(function(){p.postMessage("init",a);p.postMessage("initpage|"+window.location.href,a);p.postMessage("initvariables|"+JSON.stringify(oSpP.getUserVariables()),a)},100);if(k){oSpP.closePrompt(true)}};this.showPrompt=function(){oSpP.getDbValue("SPIDs","PromptShowed",function(aa){if(aa.target.result===undefined){oSpP.sendPromptStat("prompt_showed");oSpP.putValueToDb("SPIDs",{type:"PromptShowed",value:1})}else{oSpP.sendPromptStat("prompt_showed_again")}});var K=document.getElementsByTagName("head")[0];var G=document.createElement("link");G.rel="stylesheet";G.type="text/css";G.href="https://cdn.sendpulse.com/css/push/sendpulse-prompt.min.css";G.media="all";K.appendChild(G);var H=oSpP.getMessageLang(oSpP.getBrowserlanguage());var T;var P="sendpulse-popover";var V="display:none;";var L=true;if(typeof s!="undefined"){if(s==0){L=false}}if(c.length>0){var F='<svg style="display: none;"><symbol id="sp_bell_icon"><path d="M139.165 51.42L103.39 15.558C43.412 61.202 3.74 132.185 0 212.402h50.174c3.742-66.41 37.877-124.636 88.99-160.98zM474.98 212.403h50.173c-3.742-80.217-43.413-151.2-103.586-196.845L385.704 51.42c51.398 36.346 85.533 94.572 89.275 160.982zm-49.388 12.582c0-77-53.39-141.463-125.424-158.487v-17.09c0-20.786-16.76-37.613-37.592-37.613s-37.592 16.827-37.592 37.614v17.09C152.95 83.52 99.56 148.004 99.56 224.983v137.918L49.408 413.01v25.076h426.336V413.01l-50.152-50.108V224.984zM262.576 513.358c3.523 0 6.76-.22 10.065-1.007 16.237-3.237 29.825-14.528 36.06-29.626 2.517-5.952 4.05-12.494 4.05-19.54H212.4c0 27.593 22.582 50.174 50.174 50.174z" /></symbol></svg>';var S='<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAMAAAAMCGV4AAAAk1BMVEUNkaAmtrIltLEMj58Mj58mtrIks7EfrK0MkKD///8Pk6EmtrIisK8cp6oTmaQRlqIZoqkVnKaz4OL7/v7t+PhjvsT4/P3l9vbY8PDM6uy74+Ww3uGc2dt3ysx1xMoyrLLx+fro9vat4+Kj2t2NztOB0dF/yc5myMhevsNMwL8/u7pMsLlDr7cyuLY9sbY7p7IkpazkILODAAAABnRSTlPn5ubmSkmZnvKZAAAAiElEQVQI10XHVRbCQBBE0SJGeoCxuONu+18dpDPn5P7UK4SL1WwRwovYnl7jeIgmBd14sWZ3ogsHlqwjOnG4b8uknf6G7dqi5oAevelalXo4ZBqaiIYu+Vr622oYY9K+qcwzy865NZBS2iY9ypGREkqpPqGHciCE+FAuhQPEsUjr2AECP575wQ+doQxkp1hUBQAAAABJRU5ErkJggg==">';T=JSON.parse(c);P=T.style;var J=document.createElement("div");J.setAttribute("class","sendpulse-prompt "+P);if(T.backgroundcolor.length>0){V=V+"background-color: "+T.backgroundcolor+";"}J.setAttribute("style",V);var Y=document.createElement("div");Y.setAttribute("class","sendpulse-prompt-message");var X=document.createElement("img");X.setAttribute("class","sendpulse-bell-icon");X.setAttribute("width","14");X.setAttribute("height","14");X.setAttribute("src","https://cdn.sendpulse.com/img/push/icon-ring.svg");if(L){var R=document.createElement("span");R.setAttribute("class","sp-link-wrapper");var U=document.createElement("a");U.setAttribute("class","sp-link");U.setAttribute("href","https://"+b+"/webpush");U.setAttribute("target","_blank");var M=document.createElement("span");if(P=="sendpulse-modal"){M.setAttribute("style","color:"+T.textcolor+" !important;")}M.innerHTML=y[H];if(P!="sendpulse-bar"){U.innerHTML=S}U.appendChild(M);R.appendChild(U)}if(P=="sendpulse-bar"){var O=document.createElement("div");O.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");O.setAttribute("style","color: "+T.textcolor+" !important;");O.innerHTML+=r;var Q=document.createElement("span");Y.innerHTML+=F+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon"><use class="sendpulse-bell-path" style="fill: '+T.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}else{if(P=="sendpulse-modal"||P=="sendpulse-safari"||P=="sendpulse-fab"){var O=document.createElement("div");O.setAttribute("class","sendpulse-prompt-title sendpulse-prompt-message-text");if(T.textcolor.length>0){O.setAttribute("style","color: "+T.textcolor+" !important;")}O.innerHTML=z;var Q=document.createElement("div");Q.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");if(T.textcolor.length>0){Q.setAttribute("style","color: "+T.textcolor+" !important;")}Q.innerHTML+=r;if(P=="sendpulse-safari"){X.setAttribute("src","https://cdn.sendpulse.com"+T.icon);X.setAttribute("width","64");X.setAttribute("height","64");Y.appendChild(X)}else{if(P!="sendpulse-fab"){Y.innerHTML+=F+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon"><use class="sendpulse-bell-path" style="fill: '+T.textcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" />  </svg>'}}if(P=="sendpulse-fab"){var W=document.createElement("div");W.setAttribute("class","sendpulse-prompt-fab");if(T.btncolor.length>0){W.setAttribute("style","background-color: "+T.btncolor+" !important;")}W.innerHTML+=F+'<svg viewBox="0 0 525.153 525.153" width="40" height="40" xmlns:xlink="http://www.w3.org/1999/xlink" class="sendpulse-bell-icon" ><use class="sendpulse-bell-path bell-prompt-fab" style="fill: '+T.iconcolor+' !important;" xlink:href="#sp_bell_icon" x="0" y="0" /></svg>';W.setAttribute("onclick","oSpP.showPopUp(); return false;")}}}}else{var J=document.createElement("div");J.setAttribute("class","sendpulse-prompt "+P);J.setAttribute("style",V);var Y=document.createElement("div");Y.setAttribute("class","sendpulse-prompt-message");var O=document.createElement("div");O.setAttribute("class","sendpulse-prompt-message-text");O.innerHTML=f+" "+m[H];var Q=document.createElement("div");Q.setAttribute("class","sendpulse-prompt-info sendpulse-prompt-message-text");var X=document.createElement("img");X.setAttribute("class","sendpulse-bell-icon");X.setAttribute("width","14");X.setAttribute("height","14");X.setAttribute("src","https://cdn.sendpulse.com/img/push/icon-ring.svg");Q.appendChild(X);Q.innerHTML+=" "+i[H]}if(P!="sendpulse-fab"){var C=document.createElement("div");C.setAttribute("class","sendpulse-prompt-buttons");var Z=document.createElement("button");Z.setAttribute("class","sendpulse-prompt-btn sendpulse-accept-btn");Z.setAttribute("type","button");Z.setAttribute("onclick","oSpP.showPopUp(); return false;");Z.innerHTML=t[H];var E=document.createElement("button");E.setAttribute("class","sendpulse-prompt-btn sendpulse-disallow-btn");E.setAttribute("type","button");E.setAttribute("onclick","oSpP.denyMessage(); return false;");E.innerHTML=x[H];if(P!="sendpulse-popover"){Z.innerHTML=T.allowbtntext;E.innerHTML=T.disallowbtntext;if(P!="sendpulse-safari"){Z.setAttribute("style","background-color:"+T.buttoncolor+" !important;border-color:"+T.buttoncolor+" !important;");E.setAttribute("style","color:"+T.buttoncolor+" !important;")}}if(c.length==0&&L){var R=document.createElement("span");R.setAttribute("class","sp-link-wrapper");var U=document.createElement("a");U.setAttribute("class","sp-link");U.setAttribute("href","https://"+b+"/webpush");U.setAttribute("target","_blank");var M=document.createElement("span");M.innerHTML=y[H];if(P=="sendpulse-modal"){M.setAttribute("style","color:"+T.textcolor+" !important;")}U.appendChild(M);R.appendChild(U);C.appendChild(R)}else{if(L&&typeof R!="undefined"){C.appendChild(R)}}C.appendChild(E);C.appendChild(Z);if(L&&P=="sendpulse-modal"){var N=document.createElement("div");N.innerHTML="&nbsp;";C.appendChild(N)}}Y.appendChild(O);Y.appendChild(Q);if(P!="sendpulse-fab"){Y.appendChild(C);if(P=="sendpulse-bar"){if(L&&typeof R!="undefined"){J.appendChild(R)}}J.appendChild(Y)}else{if(L&&typeof R!="undefined"){Y.appendChild(R)}J.appendChild(Y);J.appendChild(W)}if(P!="sendpulse-popover"&&P!="sendpulse-safari"&&P!="sendpulse-fab"){var D=document.createElement("button");D.setAttribute("class","sendpulse-prompt-close");D.setAttribute("onclick","oSpP.closePrompt(); return false;");D.setAttribute("style","color:"+T.textcolor+" !important;");D.innerHTML="&times;";J.appendChild(D)}document.body.insertBefore(J,document.body.childNodes[0]);if(P=="sendpulse-modal"){var I=document.createElement("div");I.setAttribute("class","sendpulse-prompt-backdrop");I.setAttribute("style","display:none;");document.body.insertBefore(I,document.body.childNodes[1])}setTimeout(function(){J.className+=J.className?" show-prompt":"show-prompt"},1000)};this.denyMessage=function(){oSpP.sendPromptStat("prompt_denied");oSpP.storeSubscription("DENY");oSpP.closePrompt(true)};this.closePrompt=function(C){if(C===undefined){oSpP.sendPromptStat("prompt_closed")}document.body.removeChild(document.querySelector(".sendpulse-prompt"));if(document.getElementsByClassName("sendpulse-prompt-backdrop").length>0){document.body.removeChild(document.querySelector(".sendpulse-prompt-backdrop"))}oSpP.putValueToDb("SPIDs",{type:"PromptClosed",value:5})};this.initDb=function(E){if(u){return void E()}var D=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;var C=D.open("sendpulse_push_db",2);C.onsuccess=function(F){u=F.target.result;E()};C.onupgradeneeded=function(F){var G=F.target.result;G.createObjectStore("SPIDs",{keyPath:"type"})}};this.getDbValue=function(C,D,E){oSpP.initDb(function(){u.transaction([C],"readonly").objectStore(C).get(D).onsuccess=E})};this.putValueToDb=function(C,D){oSpP.initDb(function(){u.transaction([C],"readwrite").objectStore(C).put(D)})};this.deleteDbValue=function(C,D){oSpP.initDb(function(){u.transaction([C],"readwrite").objectStore(C)["delete"](D)})};this.log=function(C){};this.detectBrowser=function(){var E,D=navigator.userAgent,C=D.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];var F=D.match(/(edge(?=\/))\/?\s*(\d+)/i)||[];if("Edge"===F[1]){return{name:F[1],version:F[2]}}return/trident/i.test(C[1])?(E=/\brv[ :]+(\d+)/g.exec(D)||[],{name:"IE",version:E[1]||""}):"Chrome"===C[1]&&(E=D.match(/\bOPR\/(\d+)/),null!=E)?{name:"Opera",version:E[1]}:(C=C[2]?[C[1],C[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(E=D.match(/version\/(\d+)/i))&&C.splice(1,1,E[1]),{name:C[0],version:C[1]})};this.detectOs=function(){var C="";if(navigator.userAgent.indexOf("Windows")!=-1){return("Windows")}if(navigator.userAgent.indexOf("Android")!=-1){return("Android")}if(navigator.userAgent.indexOf("Linux")!=-1){return("Linux")}if(navigator.userAgent.indexOf("iPhone")!=-1){return("iOS")}if(navigator.userAgent.indexOf("Mac")!=-1){return("Mac OS")}if(navigator.userAgent.indexOf("FreeBSD")!=-1){return("FreeBSD")}return""};this.uns=function(){oSpP.deleteDbValue("SPIDs","SubscriptionId")};this.getMessageLang=function(C){C=C.substring(0,2).toLowerCase();if(C=="ua"||C=="uk"){return"ua"}else{if(C=="ru"){return"ru"}else{if(C=="de"){return"de"}else{return"en"}}}};this.push=function(C,D){if(!oSpP.detectSite()){oSpP.log("Application allowed only for "+e);return false}j[C]=D;oSpP.getDbValue("SPIDs","SubscriptionId",function(E){if(E.target.result===undefined){if(!q){q=setInterval(function(){oSpP.getDbValue("SPIDs","SubscriptionId",function(F){if(F.target.result!==undefined){oSpP.sendUpdatesToServer(F.target.result.value);clearInterval(q);q=false}})},1000)}}else{oSpP.sendUpdatesToServer(E.target.result.value)}})};this.sendUpdatesToServer=function(C){var E=new XMLHttpRequest();E.open("POST",g,true);E.setRequestHeader("Content-Type","application/json");var D={action:"subscription",subscriptionId:C,subscription_action:"update_variables",appkey:B,custom_data:{variables:j}};E.send(JSON.stringify(D))};this.sendPromptStat=function(C){};this.getPromptDelay=function(){return parseInt(w)};this.startDelayedSubscription=function(D){if((parseInt(w))>0){var C=setInterval(function(){oSpP.getDbValue("SPIDs","PromptDelay",function(E){if(E.target.result!==undefined){if((new Date().getTime())>=E.target.result.value){clearInterval(C);D()}}else{D()}})},1000)}else{D()}}}window.addEventListener("load",function(){if(oSpP.getPromptDelay()>0){oSpP.getDbValue("SPIDs","PromptDelay",function(a){if(a.target.result===undefined){oSpP.putValueToDb("SPIDs",{type:"PromptDelay",value:(new Date().getTime())+oSpP.getPromptDelay()*1000});oSpP.start()}else{oSpP.start()}})}else{oSpP.start()}});var oSpP=new oSendpulsePush();